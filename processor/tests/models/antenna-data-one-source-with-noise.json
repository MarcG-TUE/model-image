{
    "canvas": {
        "width": 300,
        "height": 220
    },
    "data": [
        ["parameters", [
            {
                "name": "alpha",
                "type": "range",
                "initialValue": 46,
                "description": "direction of the source",
                "step": 1,
                "range": [-90, 90]
            },
            {
                "name": "number of samples",
                "description": "Number of antenna samples",
                "type": "range",
                "initialValue": 65,
                "step": 1,
                "range": [5, 300]
            },{
                "name": "noiseVariance",
                "description": "Noise Variance",
                "type": "range",
                "initialValue": 0.003,
                "step": 0.001,
                "range": [0, 0.5]
            }]
        ],
        ["vectors", [
            {
                "name": "a1",
                "value": "SceneData.projectedResponseVector(5, 0.5,SceneData.parameters['alpha'])",
                "updateOn": ["alpha"]
            }]
        ],
        ["randomData", {
            "name": "signals",
            "length": 1,
            "type": "gaussian",
            "variance": 0.3,
            "numberOfSamples": "SceneData.parameters['number of samples']",
            "updateOn": ["number of samples"]
        }],
        ["randomData", {
            "name": "noise",
            "length": 3,
            "type": "gaussian",
            "numberOfSamples": "SceneData.parameters['number of samples']",
            "updateOn": ["number of samples"]
        }]
    ],
    "elements": [
        [ "axis-3d",
            {
                "type": "Perspective8Q",
                "position": [5,5,3.0],
                "target": [0,0,0],
                "fieldOfView": 45,
                "xDom": [-1.5,1.5],
                "yDom": [-1.5,1.5],
                "zDom": [-1.1,1.1],
                "center": [150,115],
                "scale": 650,
                "content": [
                    [ "dataset", {
                        "points": "SceneData.addPoints3D(SceneData.randomData.signals.map(p=>SceneData.scalePoint3D(SceneData.vectors.a1, p[0])),SceneData.scalePoints3D(SceneData.randomData.noise,Math.sqrt(SceneData.parameters.noiseVariance)))",
                        "normals": {
                            "direction": [0,0,1],
                            "attributes": {
                                "stroke-width": 0.4,
                                "stroke": "#ff00ff",
                                "stroke-dasharray": "4 1"
                            }
                        },
                        "oneSide": {
                            "side": "back",
                            "axis1": [1,0,0],
                            "axis2": [0,1,0]
                        },
                        "radius": 0.02,
                        "attributes": {
                            "fill": "#00aa00"
                        },
                        "updateOn": ["alpha", "number of samples", "noiseVariance"]
                    }],
                    ["span2D", {
                        "axis1": [1,0,0],
                        "axis2": [0,1,0],
                        "updateOn": ["alpha", "number of samples", "noiseVariance"]
                        }
                    ],
                    [ "dataset", {
                        "points": "SceneData.addPoints3D(SceneData.randomData.signals.map(p=>SceneData.scalePoint3D(SceneData.vectors.a1, p[0])),SceneData.scalePoints3D(SceneData.randomData.noise,Math.sqrt(SceneData.parameters.noiseVariance)))",
                        "normals": {
                            "direction": [0,0,1],
                            "attributes": {
                                "stroke-width": 0.4,
                                "stroke": "#ff00ff",
                                "stroke-dasharray": "4 1"
                            }
                        },
                        "oneSide": {
                            "side": "front",
                            "axis1": [1,0,0],
                            "axis2": [0,1,0]
                        },
                        "radius": 0.02,
                        "attributes": {
                            "fill": "#00aa00"
                        },
                        "updateOn": ["alpha", "number of samples", "noiseVariance"]
                    }],
                    ["lines", {
                        "lines": [{
                            "p1": [0,0,0],
                            "p2": [1,0,0]
                        },{
                            "p1": [0,0,0],
                            "p2": [0,1,0]
                        },{
                            "p1": [0,0,0],
                            "p2": [0,0,1]
                        }],
                        "attributes": {
                            "stroke-width": 1.5
                        },
                        "updateOn": ["alpha", "number of samples", "noiseVariance"]
                    }]
                ]
            }
        ]
    ]
}