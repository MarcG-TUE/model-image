{
    "canvas": {
        "width": 220,
        "height": 200
    },
    "data":[
        ["parameters", [
            {
                "name": "symbol-re",
                "type": "range",
                "initialValue": 1.25,
                "description": "real part of the received symbol",
                "step": 0.01,
                "range": [-1.5, 1.5]
            },{
                "name": "symbol-im",
                "type": "range",
                "initialValue": -1.1,
                "description": "imaginary part of the received symbol",
                "step": 0.01,
                "range": [-1.5, 1.5]
            }]
        ],
        [ "variables", [{
                "name": "scale",
                "value": "80"
            }]
        ]
    ],
    "elements": [
        ["axis-2d", {
            "type": "4Q",
            "xDom": [-1.2,1.2],
            "yDom": [-1.2,1.2],
            "center": [100,100],
            "scale": 80,
            "options": {
                "tickValuesX": [-0.707, 0.707],
                "tickFormatX": "",
                "tickValuesY": [-0.707, 0.707],
                "tickFormatY": ""
            },
            "content": [
                ["circle", { "comment": "dashed circle",
                    "center": [0, 0],
                    "radius": 1,
                    "attributes": {
                        "stroke-width": 1,
                        "fill": "none",
                        "stroke-dasharray": "8 6"
                    }
                }],
                ["array",{ "comment": "constellation points",
                    "vertical": 2,
                    "deltaVertical": "Math.sqrt(2)",
                    "horizontal": 2,
                    "deltaHorizontal": "Math.sqrt(2)",
                    "elements":[
                        ["circle", {
                            "center": "[-0.5*Math.sqrt(2),0.5*Math.sqrt(2)]",
                            "radius": 0.05,
                            "attributes": {
                                "stroke-width": 0,
                                "fill": "#00aa00"
                            }
                        }]
                    ]
                }],
                ["arrow", {
                    "p1": "[SceneData.parameters['symbol-re'],SceneData.parameters['symbol-im']]",
                    "p2": "SceneData.decisionFeedback4QAM([SceneData.parameters['symbol-re'],SceneData.parameters['symbol-im']])",
                    "attributes": {
                        "stroke": "#0000ff"
                    },
                    "updateOn":["symbol-re","symbol-im"]
                }],
                ["circle", { "comment": "symbol 1",
                    "center": "[SceneData.parameters['symbol-re'],SceneData.parameters['symbol-im']]",
                    "radius": 0.05,
                    "attributes": {
                        "stroke-width": 0,
                        "fill": "#ff0000"
                    },
                    "updateOn":["symbol-re","symbol-im"]
                }],
                ["arrow", {
                    "p1": [0.30,0.85],
                    "p2": "[Math.sqrt(0.5),Math.sqrt(0.5)]",
                    "attributes": {
                        "stroke": "#0000ff"
                    }
                }],
                ["circle", {
                    "center": [0.30,0.85],
                    "radius": 0.05,
                    "attributes": {
                        "stroke-width": 0,
                        "fill": "#ff0000"
                    }
                }]
            ]
        }],
        [ "latex-texts",
            {
                "texts": [
                    {
                        "text": "\\mathit{Im}(s_k)",
                        "position": [60,5]
                    },
                    {
                        "text": "\\mathit{Re}(s_k)",
                        "position": [183,105]
                    },
                    {
                        "text": "1/\\sqrt{2}",
                        "position": [63,35]
                    },
                    {
                        "text": "1/\\sqrt{2}",
                        "position": [142,105]
                    },
                    {
                        "text": "-1/\\sqrt{2}",
                        "position": [22,105]
                    },
                    {
                        "text": "-1/\\sqrt{2}",
                        "position": [53,148]
                    }
                ]
            }
        ]
    ]
}